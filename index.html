<!DOCTYPE html>
<html>
  <head>
    <!--Written by Scot Stewart | personalError-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Oswald&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./resources/css/index.css" />
    <title>personalError | Rock Paper Scissors</title>
  </head>
  <body>
    <!--A paragraph to display the version of the game-->
    <p class="author-details">Scot Stewart | personalError | Rock Paper Scissors v1.3</p>
    <!-- The main container for all the game components-->
    <div class="game-container">
      <h1 class="main-title">Rock, Paper, Scissors!</h1>
      <!--The container for the rock, paper, and scissor buttons-->
      <div class="choice-container">
        <div class="rock-container">
          <button class="game-button" onclick="
              playGame('rock');
            ">
            <img class="choice-icon" src="./resources/images/rock-icon.png" />
          </button>
          <img class="choice-title" src="./resources/images/rock-title.png" />
        </div>
        <div class="paper-container">
          <button class="game-button" onclick="
              playGame('paper');
            ">
            <img class="choice-icon" src="./resources/images/paper-icon.png" />
          </button>
          <img class="choice-title" src="./resources/images/paper-title.png" />
        </div>
        <div class="scissors-container">
          <button class="game-button" onclick="
              playGame('scissors');
            ">
            <img class="choice-icon" src="./resources/images/scissors-icon.png" />
          </button>
          <img class="choice-title" src="./resources/images/scissors-title.png" />
        </div>
      </div>
      <!-- The container for the game stats. Will display the result and count the score-->
      <div class="stats-container">
        <p id="lets-play">Let's Play!</p>
        <hr>
        <p class="stats">Wins: <span id="win-counter">0</span></p>
        <p class="stats">Losses: <span id="loss-counter">0</span></p>
        <p class="stats">Draws: <span id="draw-counter">0</span></p>
        <hr>
        <!--A button to reset the scores to zero-->
        <button class="reset-button" onclick="
          resetScore();
        ">Reset Score</button>
      </div>
    </div>

    <!--The JavaScript code that makes the game work-->
    <script>
        //Global variables to keep track of the result and the scores
        let result = '';
        const score = {
          wins: 0,
          losses: 0,
          draws: 0
        };
      //This code will generate a move from the computer and compare it to the players choice and determine the result
      function playGame(userInput) {
        const computerMove = pickComputerMove();
        if (userInput === 'rock') {
          if (computerMove === 'rock') {
            result = 'It is a draw!';
          } else if (computerMove === 'paper') {
            result = 'You lose!';
          } else if (computerMove === 'scissors') {
            result = 'You win!'
          }
        } else if (userInput === 'paper') {
          if (computerMove === 'paper') {
            result = 'It is a draw!';
          } else if (computerMove ===  'scissors') {
            result = 'You lose!';;
          } else if (computerMove === 'rock') {
            result = 'You win!';
          }
        } else if (userInput === 'scissors') {
          if (computerMove === 'scissors') {
            result = 'It is a draw!';
          } else if (computerMove === 'rock') {
            result = 'You lose!';
          } else if (computerMove === 'paper') {
            result = 'You win!';
          }
        }
        //This code will update the on screen information based on the result
        if (result === 'It is a draw!') {
          score.draws += 1;
          document.getElementById('draw-counter').innerText = score.draws;
        } else if (result === 'You lose!') {
          score.losses += 1;
          document.getElementById('loss-counter').innerText = score.losses;
        } else if (result === 'You win!') {
          score.wins += 1;
          document.getElementById('win-counter').innerText = score.wins;
        }
        document.getElementById('lets-play').innerText = `You picked ${userInput}. The computer picked ${computerMove}. ${result}`;
      }
      //This function is called by the playGame function. It will determine the computers move and return the value generated.
      function pickComputerMove() {
        randomNumber = Math.floor(Math.random() * 3);
        if (randomNumber === 0) {
          return 'rock';
        } else if (randomNumber === 1) {
          return 'paper';
        } else if (randomNumber === 2) {
          return 'scissors';
        }
      }
      //This code will reset the score unlesss all scores are already zero or the score has already been reset
      function resetScore() {
        if (score.draws === 0 && score.losses === 0 && score.wins === 0) {
          document.getElementById('lets-play').innerText = 'Score already reset! Let\'s play!';
        } else {
          score.draws = 0;
          document.getElementById('draw-counter').innerText = score.draws;
          score.losses = 0;
          document.getElementById('loss-counter').innerText = score.losses;
          score.wins = 0;
          document.getElementById('win-counter').innerText = score.wins;
          document.getElementById('lets-play').innerText = 'Score reset! Let\'s play!';
        }
      }
    </script>
  </body>
</html>